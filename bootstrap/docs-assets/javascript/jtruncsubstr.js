// JavaScript Document
!function(e){e.fn.jTruncSubstr=function(n){var t={length:300,minTrail:20,moreText:"more",lessText:"less",ellipsisText:"...",moreAni:500,lessAni:500,delimiters:""},n=e.extend(t,n);return this.each(function(){obj=e(this);var t=obj.html();if(t.length>n.length+n.minTrail){var s;if(""==n.delimiters?s=n.length:(s=t.length,e.each(n.delimiters,function(){var e=t.indexOf(this,n.length);e>-1&&(s=Math.min(s,e))})),-1!=s){var i=t.substring(0,s+1),l=t.substring(s+1,t.length-1);obj.html(i+'<span class="truncate_ellipsis">'+n.ellipsisText+'</span><span class="truncate_more">'+l+"</span>"),obj.find(".truncate_more").css("display","none"),obj.append('<div class="clearboth"><a href="#" class="truncate_more_link">'+n.moreText+"</a></div>");var r=e(".truncate_more_link",obj),a=e(".truncate_more",obj),o=e(".truncate_ellipsis",obj);r.click(function(){return r.text()==n.moreText?(n.moreAni?a.slideDown(n.moreAni):a.show(),r.text(n.lessText),o.css("display","none")):(n.lessAni?a.slideUp(n.lessAni):a.hide(),r.text(n.moreText),o.css("display","inline")),!1})}}})}}(jQuery);